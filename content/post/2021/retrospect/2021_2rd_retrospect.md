---
title: '[하옹의 회고] 2021년 하반기 - 첫 프론트앤드 개발, 프론트앤드 개발자로 6개월동안 배운 것'
draft: false
date: 2021-12-28
category: 'retrospect'
tags: ['frontend', 'retrospect', 'developer']
---

이제 프론트앤드 개발자로 본격적으로 전향후 일을 시작한지 약 6개월이 다 되어간다.

프론트앤드 구직시장에 본격적으로 뛰어들때만큼의 열정은 조금은 시들었지만, 아직 그 온기만은 여전하고 불씨는 계속 살아있는 것 같다.

내 스스로 동기부여를 위해 지난 6개월동안의 내가 크게 배운 것들을 몇가지 꼽아서 회고를 해보기로하였고,
개인적으로 회고 경험이 너무 좋아서 반기별로 내가 배운것들과 느낀것들을 정리해볼 수 있는 글을 앞으로 작성하려고 한다.

앞으로 정리하는 글들이 이따끔씩 나의 불씨에 마른장작을 넣는 일이 되었으면 좋겠다.

<br>

## 작업 환경

회사의 작업환경은 매우 좋았다. 서로 하고자하는 작업에 대해 눈치보지않고 시도할 수 있었고, 재택을 통해 효율적이고 유연한 업무 컨트롤이 가능했다.

업무를 맞게되면 그 이후부터는 혼자서 업무를 드라이브 해야되고, 티켓으로 받은 업무에 대한 문제 정의, 설계, 계획을 스스로 수립하고, 
유관부서나 기획자들과의 소통 또한 내가 주도적으로 진행을 해야만 한다.

이러한 환경에 적응하기위해 노력했고, 처음에는 내가 일을 하고있는지 아무도 모르기 때문에 잘 하고있는것인지에 대한 걱정이 앞섰지만, 지금은 주어진 업무에 최선을 다하고,
그 외의 남는시간에는 자잘한 기술공유나 코드리뷰, 특히 기존 프로젝트 분석글을 쓰면서 나름의 제품 이해와 개선방향, 취약사항 등을 정리해보면서 업무시간과 유휴시간을 잘 활용해보려고 하고 있다.

<br>

## 환경이 중요한가

항상 생각하지만 성장한다는 것은 어떤 업무환경에서든 본인이 하기 나름이라는 생각이 자꾸만 든다. 지금의 이 환경도 누군가에게는 너무 자유롭고 책임감이 크기 때문에 힘들 수 있고, 누군가에게는 정말 천직처럼 알맞을 수도 있다. 

업무 환경에 대한 것은 돈을 받고 일을하는 프로이니 만큼, 본인이 적응을 해나가고 회사와 팀에 맞춰가야된다고 생각하지만 성장은 어떤 환경이든지 정말 본인이 하기에 따라서 다르다는것이 나의 생각이다. 

특히 일을 할 때의 커뮤니케이션은 주로 질문과 답변으로 이루어졌는데, 개인적으로 질문을 하면 질문속에 있는 본질을 캐치해서 친절하게 알려주고 질문에 수용적인 태도를 갖추신분들과 일을 할때가 업무효율이 좋고 업무의 진행도 가장 좋았던 것 같다. 때문에 나도 질문에 수용적인 사람이 되고자 한다. 
이분이 왜 이런 질문을 하는지, 어떠한 상황에 놓여져있는지, 업무 부서의 특성들을 고려해서 가장 최적의 답을 내려주고 추가로 필요한 정보도 알려줄 수 있는 사람이 되고싶다.

<br>

## 나는 그래서 어떤걸 배웠나

### 1. 서비스 운영 경험

가장 크게 한 경험은 당연히 실 서비스를 운영해보고 개발해봤다는 것이다.
짧은 시간이었지만 그동안 궁금했던 큰 회사의 개발 시스템을 몸소 느껴볼 수 있었고 시스템이 잘 정립되어있고 발전하고있구나고 많이 느꼈다.

특히 우리 팀 같은 경우는 서비스 운용을 원활하게 운용하는 것에 보다 관심도가 높았고, 이는 당연히 우리 리드분의 방향성이었다.
그래서 개인적으로는 서비스 운용을 원활하게 하는 것에 대해 경험을 좀 쌓을 수 있었던 것같다.

특히 CS운영과 관련해서 사용자 문의나 확인해야 될 것들이 생기는데, 고객이 준 정보를 단서로 고객이 어떠한 테스크를 하였는지 확인하는 경험등을 해볼 수 있었다.

예를들면, 고객이 야놀자 앱의 오작동을 원인으로 환불을 요구할 때 사용자 추적을 통해 정확한 원인을 파악하고 후속처리를 판단 할 수 있게 해주는 일이 있다.

이러한 경험을 토대로 고객의 사용과정을 추적할 수 있는 로그의 중요성을 새삼 다시한번 깨닫게 되었고, 
리드분의 기술 세션을 통해서 로그는 왜 남겨야되는지, 어디에 남겨야되는지, 무엇을 어떻게 남겨야되는지 등을 생각해 볼 수 있었다.

개인적인 경험으로는 로그는 무엇보다 탐색이 편해야 된다는 생각이다. 때문에 로그 또한 정책이나 설계를 탐색 편리성을 고려하면서 디테일하게 가져가야 된다고 생각한다.

<br>

### 2. Frontend에서의 Proxy Server

우리 회사에서는 보안정책상 내부 API를 노출시켜서는 안된다. 때문에 API 호출에 대한 Reverse Proxy 서버를 구축해서 사용하고 있다.
Proxy Server를 Express를 이용해서 구축하다보니 간접적으로나마 백엔드 경험을 할 수 있어서 좋았고 Express 경험이 있었던 터라 다행이 잘 적응할 수 있었다.

그동안 잘 몰랐지만 이런 Proxy 서버를 이용해서 다양한 걸 할 수 있었는데, 여러 조각 나뉜 API들을 mashup하고 가공하면서 [BFF](https://samnewman.io/patterns/architectural/bff/)로 활용할 수도 있고,
외부 API를 이용할 때에도 다양하게 활용할 수 있다. 

예를들어서, 화면을 호출하는 외부 API를 이용할 경우에, 

> 화면을 호출하는 외부 API는 예를들어 본인인증 pass 팝업, 소셜로그인 등이 있겠다.

보통 returnUrl을 parameter로 전송하게 되는데 이 returnUrl로 외부 API 화면에서 작업한 결과를 받을 수 있다.

그리고 이 returnUrl을 Proxy Server로 라우팅을 잡으면 백엔드의 도움없이 프론트단에서 이 결과를 처리하고 활용할 수 있다.

더불어서 프론트단에서 못잡는 post의 body데이터 등을 Proxy Server를 통해서 잡을 수 있고, middleware단에서 로깅이나 특정 경로를 잡아서 redirect등의 다양한 작업도 처리 할 수 있다.

<br>

### 3. Next 사용

사실 Next는 어떤것인지만 알았지 입사전에는 사용해본적이 없었는데 Next로 구축된 제품의 프로젝트에 involve 되면서 사용해볼 수 있었다.

Next로 구축된 프로젝트의 경우는 랜더링 방식의 차이만 있을 뿐 개발 방법은 똑같았고,  
Proxy Server 또한 Proxy Server없이 Next 자체서버의 API Routing을 통해 Proxy API를 Next단에서 만들어 사용할 수 있었다.

Next 자체의 API Routing, Middleware를 구축할 수 있지만, [Custom Server](https://nextjs.org/docs/advanced-features/custom-server)를 통해서 express integration을 해서 사용하면 기존의 Proxy Server와 동일하게 코드를 가져갈 수 있어서 좋았고, 보다 서버사이드에서 low한 처리를 할 수 있는 점이 좋았다.

<br>

### 4. 사용자의 입력도 비동기 처리다

프론트앤드 개발을하면, 특히나 중요한게 비동기 처리인 것 같다. 싱글스레드로 이루어진 Javascript Engine (V8)을 탑재한 브라우저로 병렬처리를 하기 위해서는 비동기 방식을 사용할 수 밖에 없기 때문이다.

이 비동기에 대해 나의 생각을 깨준 일이 있었는데, 우리팀에서 진행했던 테크세션에서 팀원분이 한 발표였다.

바로 사용자의 입력도 비동기 처리로 볼 수 있다는 것이었는데,

```js
const handleButtonClick = () => {
  somePopupOpen();// 새로운 작업을 위한 팝업 오픈 (화면을 호출하는 외부 API 등)
}

...
 
// 팝업에서 post message 를 통해 작업 결과 전달
window.addEventListener('message', (event) => {
  const { result } = event;
  nextProcess(result); // 다음 작업 수행...
  ...
});
```

위 코드를 보면 사용자의 입력인 버튼 클릭을 하고 나서 팝업을 오픈하고 이후의 결과를 message listener에서 받아 진행하지만 코드량이 많고 복잡할 경우에, 
코드레벨에서 진행상황을 쫒아가기 어렵다는게 문제가 있었다.

결국에는 사용자의 입력도 비동기이고, 위 post message를 통해 값을 받고 실행하는 부분이 일종의 callback 함수로 볼 수 있는데,
이러한 같은상황에서 async awiat과 비슷하게 동기적으로 코드를 작성 할 수 있₩다면 작업자가 아니라도 다른 사람이 볼 때 작업 프로세스를 쫒아갈 수 있게 된다.

```js
let popupWorkCompleteResolver;

const handleButtonClick = async () => {
  somePopupOpen();
  const popupPromise = new Promise((resolve) => popupWorkCompleteResolver = resolve)
  const result = await popupPromise(); // 동기적으로 작업을 대기할 수 있음
  nextProcess(result); // 다음 작업 수행...
  ...
}
  
// 팝업에서 post message 를 통해 작업 결과 전달
window.addEventListener('message', (event) => {
  const { result } = event;
  popupWorkCompleteResolver(result);
});
```

위 코드를 보면 분산되어있던 로직이 handleButtonClick에 모아졌음을 볼 수 있다.

> 물론 message listener에서 popupWorkCompleteResolver를 실행하는 부분은 있어야 한다.

이 처럼 사용자의 입력또한 비동기작업과 같고, Promise나 Future등을 활용하면 이러한 부분들도 동기적으로 작성할 수 있다는 점을 배울 수 있었다.

<br>

### 5. 프론트앤드 로깅

로깅은 앞서 1. 서비스 운영경험에서 일부 작성하였지만 너무도 중요한 부분같아서 별도 섹션으로 적으려고 한다.

팀에 합류해서 일하기 전까지는 클라이언트 단에서의 로깅이 어떤 의미가있고 어떻게 남겨야되는지도 몰랐었는데, 
이제는 서비스 운영을 위해서는 너무나도 중요한 부분이라는 것을 알게되었다.

로그를 남기는 이유는

* 서비스 정상작동 확인
* 서비스 오류 확인
* 사용자 추적 및 서비스 흐름 파악
* 서비스 운용지표로 활용
* CS 업무 대응

등등 중요성은 이루어 말할필요가 없다.

이러한 로그를 남기는 것은 우리 팀에서는 클라이언트 사이드로 Kinesis를 사용하고, 서버사이드로는 Application 로그를 활용한 Cloud Watch를 통해 파악을 하고 있다.

애러상황은 Sentry를 통해서 추적한다.

<br>

### 6. TDD 경험

팀에서 온보딩 겸해서 진행한 첫 프로젝트를 TDD를 활용해서 개발해보았다.

먼저 테스트코드를 작성하고 개발을 하려니 어색했지만 하다보니 적응도 되고 해서 잘 마무리 했던 것 같다.

내가 TDD를 하고 느낀점은

* 막 해서는 안된다. TDD 설계를 하고나서 진행해야 된다.
* 그렇다고 처음부터 너무 완벽하게 할 필요는 없다. TDD는 사이클을 계속 돌기 때문.
* 컴포넌트 테스트는 과연 필요할까?
  * 지금은 공통 컴포넌트에 대해서만 테스트코드가 필요하다고 생각하고 있다.
* TDD를 해놓고 보니 description을 통해 스팩정리가 되더라.
  * 사실 이게 TDD에서 가장 좋았던 부분이다.
  * 테스트코드의 description을 통해 스팩을 코드로 나타낼 수 있었고 테스트도 수행하고 스팩문서도 된다고 생각했다. 때문에 별도 문서작업을 할 필요가 없어진다 생각했다.

<br>

### 7. 커뮤니케이션 소통

앞서 환경에 대한 설명에도 언급했지만 팀에 합류하고나서 스스로 업무를 책임지고 drive를 했었다.

> 물론 큰 프로젝트에는 2명이상 할당이 되고 히스토리나 업무적으로 궁금한 점은 당연히 물어볼 수 있고 코드리뷰도 리뷰어를 할당해서 진행했다.

때문에 주도적으로 소통하는 능력?을 발전시킬 수 있었던 것 같다.

처음에 입사해서는 이런거 물어봐도 되려나 하면서 망설이고 했던 것들을 물어보고 소통하게 될 수 있게된 것 같고, 여러 소통할 수 있는 슬렉과 같은 채널등의 사용도 적응이 되어간다고 생각한다.

특히 소통하는데 있어, 명확하게 설명하고 질문하는 것과 상대편의 질문에 잘 대답하고 사려깊게 잘 소통하는 능력은 앞으로 계속해서 발전시키고 싶다.

<br>

### 8. 모나드... 함수형 프로그래밍 경험

팀 내부에서 관리하는 제품 중에 엄청 잘 활용되고있는 것 같지는 않지만 Monad가 사용된 프로젝트가 있는데, 이 소스를 보면서 진정한 함수형프로그래밍을 보게된 것 같다.

지금껏 js로 함수형을 해봤자 순수함수를 만들고 불변성을 지키고 등등의 것들만 해왔는데 이것은 진정한 함수형 프로그래밍이 아니다 라는것을 깨닫게 되었고,
나중에 한번 함수형 프로그래밍에 도전해보고싶다는 생각을 하게되었다.

모나드는 설명을 보고 지금도 봤지만 아직 정확하게 뭔지 모르겠다... 나중에 꼭 이해하고싶다.\

<br>

### 9. SaSS 설계를 위한 12 Factors

팀 내부 채널에서 공유된 내용인데, 

* [12Factor](https://12factor.net/ko/)
* [카카오에서 12Factor 도입기](https://fe-developers.kakaoent.com/2021/211125-create-12factor-app-with-nextjs/?fbclid=IwAR2dv3f6Qqpv3q52UGUWPZBZZFpHdX7xDlDHTcO18AgBcm8XD9P1v5Pn9G0)

를 보면서 많은 생각을 했던 것 같다.

특히나 팀에 합류하고 레거시와 기술부채는 존재할 수 밖에 없다고 생각했고, 이 기술부채를 줄이는 시점을 잘 판단하기도 해야되지만 우선 설계부터 독립적이고 점진적으로 발전시켜나갈 수 있는 형태라면 레거시나 기술부채가 쌓여있더라도 괜찮다라는 생각을 최근에 하게되었었다.

그러던 중에 12Factor라는 설계방법론을 알게되고 이런 원칙을 지키면 충분할 것 같다고 생각하게 되었다.



## 앞으로 무엇을 발전시키고 싶나

### 서비스 운용능력

지금 이제 막 능력치를 올려가고 있다고 생각하지만 로그를 활용한 사용자 추적이나 애러 추적, 데이터 모니터링등과 같은 능력을 포함해서 서비스를 운용하는데 필요한 능력을 계속해서 발전시켜나가고 싶다.

물론 개발적인 부분도 놓치지 않을거다.

### 커뮤니케이션 스킬

커뮤니케이션 스킬은 협업할 일이 많아서 커뮤니케이션이 많은 프론트앤드 개발자이기 때문에 계속해서 발전시켜나가고 싶다.

특히 유관부서 관계자나 기획자 분들 등 협업하는 사람들이 나에게 편안하게 질문을 할 수 있는 대상이 되고싶고 적극적으로 의견 개진을 할 수 있는 사람이 되고싶다.

### 개발능력

당연히 개발자로써의 근본인 개발능력 또한 계속해서 발전시켜나갈 생각이다.

개발 생산성을 좀 늘려보고싶고, 프론트엔드에서의 애러핸들링, 올바른 설계 부분에 있어서 고민하고 알아가고싶다.
